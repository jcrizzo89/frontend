import{ba as y,ca as S,da as x,ea as _}from"./chunk-H2ONE3W6.js";import{b as Q,g as W,j as Z,u as q}from"./chunk-TSXBLCTM.js";import{i as U}from"./chunk-JLQOXKTP.js";import"./chunk-X7ZST7BG.js";import{$b as f,Ab as n,Fb as E,Hc as w,Ib as l,Ic as B,Kb as O,Kc as Y,Lc as h,Ub as o,Vb as d,Wa as r,Wb as M,Xb as H,Yb as j,Zb as L,a as V,dc as D,ec as k,ia as u,mb as b,qa as P,qb as g,ra as v,sb as p,ya as C,zb as e}from"./chunk-G46DRSWM.js";function $(s,a){if(s&1&&(e(0,"div",13),o(1),n()),s&2){let t=O();r(),d(t.order.orderCount)}}var A=class s{order;active=!1;orderNumber=0;addProgress=new C;onAddProgress(){this.addProgress.emit(this.order.id)}static \u0275fac=function(t){return new(t||s)};static \u0275cmp=u({type:s,selectors:[["app-order-card"]],inputs:{order:"order",active:"active",orderNumber:"orderNumber"},outputs:{addProgress:"addProgress"},standalone:!0,features:[f],decls:23,vars:8,consts:[[1,"order-card"],[1,"order-header"],[1,"order-number"],["class","order-count",4,"ngIf"],[1,"order-content"],[1,"client-info"],[1,"client-name"],[1,"client-address"],[1,"client-notes"],[1,"order-meta"],[1,"order-date"],[1,"order-status"],[1,"action-button",3,"click"],[1,"order-count"]],template:function(t,i){t&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-icon"),o(4,"phone"),n(),e(5,"span"),o(6),n()(),b(7,$,2,1,"div",3),n(),e(8,"div",4)(9,"div",5)(10,"div",6),o(11),n(),e(12,"div",7),o(13),n(),e(14,"div",8),o(15),n()()(),e(16,"div",9)(17,"div",10),o(18),n(),e(19,"div",11),o(20,"N - 1, 25"),n()(),e(21,"button",12),l("click",function(){return i.onAddProgress()}),o(22," Agregar avance "),n()()),t&2&&(p("active",i.active),r(6),d(i.order.phone),r(),g("ngIf",i.order.orderCount),r(4),d(i.order.clientName),r(2),d(i.order.address),r(2),d(i.order.notes),r(3),d(i.order.date))},dependencies:[h,B,_,x],styles:[".order-card[_ngcontent-%COMP%]{background:#0288d1;border-radius:8px;padding:16px;width:350px;color:#fff;display:flex;flex-direction:column;gap:12px;box-shadow:0 2px 4px #0000001a}.order-card.active[_ngcontent-%COMP%]{background:#0277bd}.order-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.order-number[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.order-number[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;line-height:18px;opacity:.8}.order-number[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.order-image[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:4px;overflow:hidden;flex-shrink:0}.order-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.order-phone[_ngcontent-%COMP%]{font-size:14px;font-weight:500;flex:1}.order-count[_ngcontent-%COMP%]{font-size:12px;opacity:.8}.order-content[_ngcontent-%COMP%], .client-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.client-name[_ngcontent-%COMP%]{font-weight:500;font-size:14px}.client-address[_ngcontent-%COMP%]{font-size:14px;opacity:.9}.client-notes[_ngcontent-%COMP%]{font-size:13px;opacity:.8}.order-meta[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-size:12px;opacity:.8}.order-status[_ngcontent-%COMP%]{font-size:12px;opacity:.8;line-height:1.4}.action-button[_ngcontent-%COMP%]{background:#ffffff1a;border:none;color:#fff;padding:8px;border-radius:4px;width:100%;cursor:pointer;font-size:14px;transition:background-color .2s;display:flex;align-items:center;justify-content:center;gap:8px}.action-button[_ngcontent-%COMP%]:hover{background:#fff3}.action-button[_ngcontent-%COMP%]:active{transform:translateY(1px)}"]})};var I=class s{currentTime=new Date;stats={unregisteredOrders:0,repeatedOrders:0};viewDetails=new C;onViewDetails(){this.viewDetails.emit()}static \u0275fac=function(t){return new(t||s)};static \u0275cmp=u({type:s,selectors:[["app-stats-panel"]],inputs:{currentTime:"currentTime",stats:"stats"},outputs:{viewDetails:"viewDetails"},standalone:!0,features:[f],decls:21,vars:10,consts:[[1,"stats-panel"],[1,"time-section"],[1,"time-display"],[1,"date-display"],[1,"stats-section"],[1,"stat-item"],[1,"action-button",3,"click"]],template:function(t,i){t&1&&(e(0,"div",0)(1,"div",1)(2,"div",2),o(3),D(4,"date"),n(),e(5,"div",3),o(6),D(7,"date"),n()(),e(8,"div",4)(9,"div",5)(10,"mat-icon"),o(11,"person_add"),n(),e(12,"span"),o(13),n()(),e(14,"div",5)(15,"mat-icon"),o(16,"sync"),n(),e(17,"span"),o(18),n()()(),e(19,"button",6),l("click",function(){return i.onViewDetails()}),o(20," Ver detalles "),n()()),t&2&&(r(3),d(k(4,4,i.currentTime,"HH:mm:ss")),r(3),d(k(7,7,i.currentTime,"dd/MM/yyyy")),r(7),M("Pedidos no registrados (",i.stats.unregisteredOrders,")"),r(5),M("Pedidos repetidos (",i.stats.repeatedOrders,")"))},dependencies:[h,Y,_,x],styles:[".stats-panel[_ngcontent-%COMP%]{background:#0288d1;border-radius:8px;padding:16px;width:300px;color:#fff;display:flex;flex-direction:column;gap:16px;box-shadow:0 2px 4px #0000001a}.time-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.time-display[_ngcontent-%COMP%]{font-size:28px;font-weight:500;line-height:1;letter-spacing:.5px}.date-display[_ngcontent-%COMP%]{font-size:14px;opacity:.8;line-height:1.4}.stats-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.stat-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;font-size:14px;line-height:1.4}.stat-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;line-height:20px;opacity:.8}.stat-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{opacity:.9}.action-button[_ngcontent-%COMP%]{background:#ffffff1a;border:none;color:#fff;padding:8px 16px;border-radius:4px;width:100%;cursor:pointer;font-size:14px;transition:all .2s;display:flex;align-items:center;justify-content:center;gap:8px}.action-button[_ngcontent-%COMP%]:hover{background:#fff3}.action-button[_ngcontent-%COMP%]:active{transform:translateY(1px)}"]})};function K(s,a){if(s&1){let t=E();e(0,"tr")(1,"td",3)(2,"div",4),o(3),n(),e(4,"div",5),o(5),n()(),e(6,"td",6)(7,"div",7),o(8),n(),e(9,"div",8),o(10),n()(),e(11,"td",9)(12,"div",10),o(13),n()(),e(14,"td",11)(15,"div",12),o(16),n()(),e(17,"td",13)(18,"div",14),o(19),n(),e(20,"div",15),o(21),n()(),e(22,"td",16)(23,"div",17)(24,"mat-icon"),o(25),n(),e(26,"span"),o(27),n()()(),e(28,"td",18)(29,"div",19),o(30),n()(),e(31,"td",20)(32,"button",21),l("click",function(){let c=P(t).$implicit,m=O();return v(m.onEditOrder(c))}),e(33,"mat-icon"),o(34,"edit"),n()()()()}if(s&2){let t=a.$implicit;p("highlighted",t.highlighted),r(3),d(t.phone),r(2),d(t.clientName),r(3),d(t.address),r(2),d(t.notes),r(3),d(t.products),r(3),d(t.zone),r(3),d(t.time),r(2),d(t.date),r(2),p("whatsapp",t.channel==="whatsapp"),r(2),d(t.channel==="whatsapp"?"whatsapp":"phone"),r(2),d(t.channel),r(2),p("pendiente",t.status==="pendiente")("entregado",t.status==="entregado"),r(),M(" ",t.status," ")}}var z=class s{orders=[];editOrder=new C;onEditOrder(a){this.editOrder.emit(a)}static \u0275fac=function(t){return new(t||s)};static \u0275cmp=u({type:s,selectors:[["app-orders-table"]],inputs:{orders:"orders"},outputs:{editOrder:"editOrder"},standalone:!0,features:[f],decls:22,vars:1,consts:[[1,"orders-list"],[1,"orders-table"],[3,"highlighted",4,"ngFor","ngForOf"],[1,"phone-client"],[1,"phone"],[1,"client"],[1,"destination"],[1,"address"],[1,"notes"],[1,"order-details"],[1,"products"],[1,"zone-vehicle"],[1,"zone"],[1,"datetime"],[1,"time"],[1,"date"],[1,"channel"],[1,"channel-icon"],[1,"status"],[1,"status-badge"],[1,"actions"],["mat-icon-button","",3,"click"]],template:function(t,i){t&1&&(e(0,"div",0)(1,"table",1)(2,"thead")(3,"tr")(4,"th"),o(5,"Tel\xE9fono y cliente"),n(),e(6,"th"),o(7,"Destino y observaciones"),n(),e(8,"th"),o(9,"Pedido y notas de pedido"),n(),e(10,"th"),o(11,"Zona y veh\xEDculo"),n(),e(12,"th"),o(13,"Hora y fecha"),n(),e(14,"th"),o(15,"Canal"),n(),e(16,"th"),o(17,"Estado"),n(),e(18,"th"),o(19,"Editar"),n()()(),e(20,"tbody"),b(21,K,35,19,"tr",2),n()()()),t&2&&(r(21),g("ngForOf",i.orders))},dependencies:[h,w,_,x,S,y],styles:[".orders-list[_ngcontent-%COMP%]{background:#fff;border-radius:8px;overflow:hidden;box-shadow:0 1px 3px #0000001f}.orders-table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-spacing:0}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background:#f5f5f5;height:48px}th[_ngcontent-%COMP%]{color:#666;font-size:12px;font-weight:500;padding:0 16px;text-align:left;white-space:nowrap;border-bottom:1px solid #E0E0E0}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:48px;border-bottom:1px solid #F5F5F5;transition:background-color .2s}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover:not(.highlighted){background:#fafafa}tbody[_ngcontent-%COMP%]   tr.highlighted[_ngcontent-%COMP%]{background:#fff3e0}td[_ngcontent-%COMP%]{padding:8px 16px;vertical-align:middle;border-bottom:1px solid #F5F5F5}.phone-client[_ngcontent-%COMP%]{min-width:160px}.phone[_ngcontent-%COMP%]{color:#03a9f4;font-weight:500;font-size:14px;margin-bottom:2px}.client[_ngcontent-%COMP%]{font-size:14px;color:#333}.destination[_ngcontent-%COMP%]{max-width:300px}.address[_ngcontent-%COMP%]{font-weight:500;font-size:14px;color:#333;margin-bottom:2px}.notes[_ngcontent-%COMP%]{font-size:13px;color:#666;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.order-details[_ngcontent-%COMP%]{min-width:180px}.products[_ngcontent-%COMP%]{font-size:14px;color:#333}.zone-vehicle[_ngcontent-%COMP%]{min-width:100px}.zone[_ngcontent-%COMP%]{font-size:14px;color:#666}.datetime[_ngcontent-%COMP%]{min-width:120px}.time[_ngcontent-%COMP%], .date[_ngcontent-%COMP%]{font-size:14px;color:#666}.channel[_ngcontent-%COMP%]{min-width:140px}.channel-icon[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:14px;color:#666}.channel-icon.whatsapp[_ngcontent-%COMP%]{color:#4caf50}.channel-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;line-height:18px}.channel-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{white-space:nowrap}.status[_ngcontent-%COMP%]{min-width:120px}.status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:4px 12px;border-radius:4px;font-size:13px;text-transform:capitalize}.status-badge.pendiente[_ngcontent-%COMP%]{background:#fff3e0;color:#ff9800}.status-badge.entregado[_ngcontent-%COMP%]{background:#e8f5e9;color:#4caf50}.actions[_ngcontent-%COMP%]{width:48px;text-align:center}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#666}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#03a9f4;background:#03a9f41a}"]})};function X(s,a){if(s&1){let t=E();e(0,"app-order-card",14),l("addProgress",function(c){P(t);let m=O();return v(m.onAddProgress(c))}),n()}if(s&2){let t=a.$implicit;g("order",t)}}var G=class s{currentTime=new Date;searchQuery="";currentFilter="all";orders=[{id:"0983429271",phone:"0983429271",clientName:"ESCUELA FE Y ALEGRIA",address:"Olmedo y Cuba - Zona 14",notes:"Porton madera esta m\xE1s casa 2 aguas",products:"3 botellones azules",zone:"Zona 14",time:"15:36",date:"05/11/2024",channel:"whatsapp",status:"pendiente",highlighted:!0,orderCount:"85 pedidos - cliente bueno"},{id:"0985 123048",phone:"0985 123048",clientName:"MIRA MADERA",address:'SAN ANDRES Y ATAHUALPA "PRIMAVERA"',notes:"Azul 3P Enfriada Porton negro junto a cancha",products:"2 botellones transparentes",zone:"H",time:"16:08:16",date:"05/11/2024",channel:"whatsapp",status:"pendiente",highlighted:!1},{id:"0985 123048",phone:"0985 123048",clientName:"MIRA MADERA",address:'SAN ANDRES Y ATAHUALPA "PRIMAVERA"',notes:"Azul 3P Enfriada Porton negro junto a cancha zur",products:"3 botellones azules",zone:"M",time:"16:08:16",date:"05/11/2024",channel:"phone",status:"pendiente",highlighted:!1},{id:"0985 123048",phone:"0985 123048",clientName:"MIRA MADERA",address:'SAN ANDRES Y ATAHUALPA "PRIMAVERA"',notes:"Azul 3P Enfriada Porton negro junto a cancha",products:"1 botellon azul",zone:"H",time:"16:08:16",date:"05/11/2024",channel:"phone",status:"entregado",highlighted:!1},{id:"0985 123048",phone:"0985 123048",clientName:"MIRA MADERA",address:'SAN ANDRES Y ATAHUALPA "PRIMAVERA"',notes:"Azul 3P Enfriada Porton negro junto a cancha",products:"4 botellones azul llave",zone:"H",time:"16:08:16",date:"05/11/2024",channel:"whatsapp",status:"pendiente",highlighted:!1},{id:"0985 123048",phone:"0985 123048",clientName:"MIRA MADERA",address:'SAN ANDRES Y ATAHUALPA "PRIMAVERA"',notes:"Azul 3P Enfriada Porton negro junto a cancha",products:"1 botellon azul",zone:"H",time:"16:08:16",date:"05/11/2024",channel:"phone",status:"pendiente",highlighted:!1}];stats={unregisteredOrders:3,repeatedOrders:0};get activeOrders(){return this.orders.slice(0,2)}get filteredOrders(){let a=[...this.orders];if(this.searchQuery){let t=this.searchQuery.toLowerCase();a=a.filter(i=>i.clientName.toLowerCase().includes(t)||i.phone.includes(t)||i.address.toLowerCase().includes(t))}return this.currentFilter!=="all"&&(a=a.filter(t=>t.status===this.currentFilter)),a}setFilter(a){this.currentFilter=a}ngOnInit(){setInterval(()=>{this.currentTime=new Date},1e3)}onEditOrder(a){let t=this.orders.findIndex(i=>i.id===a.id);t!==-1&&(this.orders[t]=V({},a),console.log("Order updated:",a))}editOrder(a){console.log("Editing order:",a)}deleteOrder(a){console.log("Deleting order:",a)}deleteSelected(){console.log("Deleting selected orders")}addNewOrder(){console.log("Adding new order")}onAddProgress(a){let t=this.orders.find(i=>i.id===a);t&&console.log("Adding progress to order:",t)}onViewDetails(){console.log("Viewing stats details"),console.log("Unregistered orders:",this.stats.unregisteredOrders),console.log("Repeated orders:",this.stats.repeatedOrders)}static \u0275fac=function(t){return new(t||s)};static \u0275cmp=u({type:s,selectors:[["app-dashboard"]],standalone:!0,features:[f],decls:32,vars:11,consts:[[1,"dashboard"],[1,"dashboard-container"],[1,"order-cards"],[3,"order","addProgress",4,"ngFor","ngForOf"],[3,"viewDetails","stats","currentTime"],[1,"search-container"],[1,"search-bar"],[1,"search-input"],["type","text","placeholder","Buscar pedidos...",3,"ngModelChange","ngModel"],[1,"filters"],[1,"filter-btn",3,"click"],[1,"action-buttons"],["mat-icon-button",""],[3,"editOrder","orders"],[3,"addProgress","order"]],template:function(t,i){t&1&&(e(0,"div",0)(1,"div",1)(2,"div",2),b(3,X,1,1,"app-order-card",3),e(4,"app-stats-panel",4),l("viewDetails",function(){return i.onViewDetails()}),n()(),e(5,"div",5)(6,"div",6)(7,"div",7)(8,"mat-icon"),o(9,"search"),n(),e(10,"input",8),L("ngModelChange",function(m){return j(i.searchQuery,m)||(i.searchQuery=m),m}),n()(),e(11,"div",9)(12,"button",10),l("click",function(){return i.setFilter("all")}),e(13,"mat-icon"),o(14,"list"),n(),o(15," Todos "),n(),e(16,"button",10),l("click",function(){return i.setFilter("pendiente")}),e(17,"mat-icon"),o(18,"pending"),n(),o(19," Pendientes "),n(),e(20,"button",10),l("click",function(){return i.setFilter("entregado")}),e(21,"mat-icon"),o(22,"check_circle"),n(),o(23," Entregados "),n()(),e(24,"div",11)(25,"button",12)(26,"mat-icon"),o(27,"filter_list"),n()(),e(28,"button",12)(29,"mat-icon"),o(30,"refresh"),n()()()()(),e(31,"app-orders-table",13),l("editOrder",function(m){return i.onEditOrder(m)}),n()()()),t&2&&(r(3),g("ngForOf",i.activeOrders),r(),g("stats",i.stats)("currentTime",i.currentTime),r(6),H("ngModel",i.searchQuery),r(2),p("active",i.currentFilter==="all"),r(4),p("active",i.currentFilter==="pendiente"),r(4),p("active",i.currentFilter==="entregado"),r(11),g("orders",i.filteredOrders))},dependencies:[h,w,U,_,x,S,y,q,Q,W,Z,A,I,z],styles:["[_nghost-%COMP%]{display:block;min-height:100vh;background-color:#03a9f4}.dashboard-container[_ngcontent-%COMP%]{padding:24px;display:flex;flex-direction:column;gap:16px}.order-cards[_ngcontent-%COMP%]{display:flex;gap:16px}.search-container[_ngcontent-%COMP%]{background:#f5f5f5;border-radius:8px;padding:12px 16px}.search-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:24px}.search-input[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;background:#fff;padding:8px 16px;border-radius:4px;width:300px}.search-input[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#666;font-size:20px;width:20px;height:20px;line-height:20px}.search-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;background:transparent;outline:none;font-size:14px;width:100%;color:#333}.search-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#999}.filters[_ngcontent-%COMP%]{display:flex;gap:8px;flex:1}.filter-btn[_ngcontent-%COMP%]{background:none;border:none;padding:8px 16px;border-radius:4px;cursor:pointer;font-size:14px;color:#666;display:flex;align-items:center;gap:8px;transition:all .2s}.filter-btn[_ngcontent-%COMP%]:hover{background:#03a9f41a}.filter-btn.active[_ngcontent-%COMP%]{background:#03a9f4;color:#fff}.filter-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;line-height:18px}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:8px}.action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#666}.action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#03a9f4;background:#03a9f41a}"]})};export{G as DashboardComponent};
